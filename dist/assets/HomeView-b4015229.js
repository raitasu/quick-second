var le=Object.defineProperty;var re=(e,s,a)=>s in e?le(e,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[s]=a;var T=(e,s,a)=>(re(e,typeof s!="symbol"?s+"":s,a),a);import{B as de,a as ie,C as ce,E as ue,F as B,K as pe,R as me,S as be,b as ye,T as fe,c as ve,d as he,e as ge,V as _e,f as xe,g as je,h as Oe,i as Ce,j as ke,k as we,l as Se,m as A,n as Me,o as P,p as N,q as E,r as m,s as Re,t as Ve,u as Ge,v as Te,w as Ae,x as Ee,y as V,z as f,A as $e,D as Ie,G as $,H as Ne,I as Be,J as Pe,L as Ue,M as Ye,N as ze,O as De,P as Fe,Q as Le,U as He,W as qe,X as Ke,Y as We,Z as Ze,_ as Je,$ as Qe,a0 as Xe,a1 as et,a2 as tt,a3 as at,a4 as ot,a5 as st,a6 as nt,a7 as lt,a8 as rt,a9 as dt,aa as it,ab as ct,ac as ut,ad as pt,ae as mt,af as bt,ag as yt,ah as ft,ai as vt,aj as ht,ak as gt,al as H,am as _t,an as xt,ao as jt,ap as Ot,aq as Ct,ar as kt,as as wt,at as St,au as Mt,av as Rt,aw as Vt,ax as Gt,ay as Tt,az as M,aA as At,aB as Et,aC as $t,aD as It,aE as Nt,aF as q,aG as Bt,aH as C,aI as Pt,aJ as Ut,aK as Yt,aL as zt,aM as O,aN as Dt,aO as Ft,aP as Lt,aQ as Ht,aR as qt,aS as Kt,aT as Wt,aU as Zt,aV as Jt,aW as Qt,aX as Xt,aY as ea,aZ as ta,a_ as K,a$ as aa,b0 as oa,b1 as sa,b2 as na,b3 as la,b4 as ra,b5 as da,b6 as ia,b7 as G,b8 as ca,b9 as ua,ba as pa,bb as ma,bc as ba,bd as ya,be as fa,bf as va,bg as ha,bh as ga,bi as _a,bj as xa,bk as ja,bl as Oa,bm as Ca,bn as ka,bo as wa,bp as Sa,bq as Ma,br as Ra,bs as g,bt as Va,bu as Ga,bv as Ta,bw as Aa,bx as Ea,by as $a,bz as Ia,bA as Na}from"./index-2d8b7369.js";const Ba=()=>{},Pa=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:de,BaseTransitionPropsValidators:ie,Comment:ce,EffectScope:ue,Fragment:B,KeepAlive:pe,ReactiveEffect:me,Static:be,Suspense:ye,Teleport:fe,Text:ve,Transition:he,TransitionGroup:ge,VueElement:_e,assertNumber:xe,callWithAsyncErrorHandling:je,callWithErrorHandling:Oe,camelize:Ce,capitalize:ke,cloneVNode:we,compatUtils:Se,compile:Ba,computed:A,createApp:Me,createBlock:P,createCommentVNode:N,createElementBlock:E,createElementVNode:m,createHydrationRenderer:Re,createPropsRestProxy:Ve,createRenderer:Ge,createSSRApp:Te,createSlots:Ae,createStaticVNode:Ee,createTextVNode:V,createVNode:f,customRef:$e,defineAsyncComponent:Ie,defineComponent:$,defineCustomElement:Ne,defineEmits:Be,defineExpose:Pe,defineModel:Ue,defineOptions:Ye,defineProps:ze,defineSSRCustomElement:De,defineSlots:Fe,get devtools(){return Le},effect:He,effectScope:qe,getCurrentInstance:Ke,getCurrentScope:We,getTransitionRawChildren:Ze,guardReactiveProps:Je,h:Qe,handleError:Xe,hasInjectionContext:et,hydrate:tt,initCustomFormatter:at,initDirectivesForSSR:ot,inject:st,isMemoSame:nt,isProxy:lt,isReactive:rt,isReadonly:dt,isRef:it,isRuntimeOnly:ct,isShallow:ut,isVNode:pt,markRaw:mt,mergeDefaults:bt,mergeModels:yt,mergeProps:ft,nextTick:vt,normalizeClass:ht,normalizeProps:gt,normalizeStyle:H,onActivated:_t,onBeforeMount:xt,onBeforeUnmount:jt,onBeforeUpdate:Ot,onDeactivated:Ct,onErrorCaptured:kt,onMounted:wt,onRenderTracked:St,onRenderTriggered:Mt,onScopeDispose:Rt,onServerPrefetch:Vt,onUnmounted:Gt,onUpdated:Tt,openBlock:M,popScopeId:At,provide:Et,proxyRefs:$t,pushScopeId:It,queuePostFlushCb:Nt,reactive:q,readonly:Bt,ref:C,registerRuntimeCompiler:Pt,render:Ut,renderList:Yt,renderSlot:zt,resolveComponent:O,resolveDirective:Dt,resolveDynamicComponent:Ft,resolveFilter:Lt,resolveTransitionHooks:Ht,setBlockTracking:qt,setDevtoolsHook:Kt,setTransitionHooks:Wt,shallowReactive:Zt,shallowReadonly:Jt,shallowRef:Qt,ssrContextKey:Xt,ssrUtils:ea,stop:ta,toDisplayString:K,toHandlerKey:aa,toHandlers:oa,toRaw:sa,toRef:na,toRefs:la,toValue:ra,transformVNodeArgs:da,triggerRef:ia,unref:G,useAttrs:ca,useCssModule:ua,useCssVars:pa,useModel:ma,useSSRContext:ba,useSlots:ya,useTransitionState:fa,vModelCheckbox:va,vModelDynamic:ha,vModelRadio:ga,vModelSelect:_a,vModelText:xa,vShow:ja,version:Oa,warn:Ca,watch:ka,watchEffect:wa,watchPostEffect:Sa,watchSyncEffect:Ma,withAsyncContext:Ra,withCtx:g,withDefaults:Va,withDirectives:Ga,withKeys:Ta,withMemo:Aa,withModifiers:Ea,withScopeId:$a},Symbol.toStringTag,{value:"Module"}));function Ua(e){if(e.__esModule)return e;var s=e.default;if(typeof s=="function"){var a=function l(){if(this instanceof l){var t=[null];t.push.apply(t,arguments);var u=Function.bind.apply(s,t);return new u}return s.apply(this,arguments)};a.prototype=s.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(e).forEach(function(l){var t=Object.getOwnPropertyDescriptor(e,l);Object.defineProperty(a,l,t.get?t:{enumerable:!0,get:function(){return e[l]}})}),a}var k={};const Ya=Ua(Pa);var U,Y;Object.defineProperty(k,"__esModule",{value:!0});var r=Ya;const w=Symbol(),x=new class{constructor(){T(this,"events");T(this,"ymapReady");T(this,"scriptIsNotAttached");T(this,"pluginInstalledGlobal");this.events={},this.ymapReady=!1,this.scriptIsNotAttached=!0,this.pluginInstalledGlobal=!1}$on(e,s){return this.events[e]||(this.events[e]=[]),this.events[e].push(s),()=>{this.events[e]=this.events[e].filter(a=>s!==a)}}$emit(e){const s=this.events[e];s&&s.forEach(a=>a())}};function W(e){return new Promise((s,a)=>{if(window.ymaps)return x.ymapReady||(x.ymapReady=!0,x.$emit("scriptIsLoaded")),s(!0);if(document.getElementById("vue-yandex-maps-script"))return void x.$on("scriptIsLoaded",s);const l=document.createElement("SCRIPT"),{apiKey:t="",lang:u="ru_RU",version:o="2.1",coordorder:p="latlong",debug:y=!1,enterprise:d=!1}=e,b=`https://${d?"enterprise.":""}api-maps.yandex.ru/${o}/?${`lang=${u}${t&&`&apikey=${t}`}&mode=${y?"debug":"release"}&coordorder=${p}`}`;l.setAttribute("src",b),l.setAttribute("async",""),l.setAttribute("defer",""),l.setAttribute("id","vue-yandex-maps-script"),document.head.appendChild(l),x.scriptIsNotAttached=!1,l.onload=(n=>()=>{ymaps.ready(()=>{x.ymapReady=!0,x.$emit("scriptIsLoaded"),n(!0)})})(s),l.onerror=a})}const Z=e=>Array.isArray(e)?e.map(Z):+e,D=["actionbegin","actionbreak","actionend","actiontick","actiontickcomplete","balloonclose","balloonopen","boundschange","click","contextmenu","dblclick","destroy","hintclose","hintopen","marginchange","mousedown","mouseenter","mouseleave","mousemove","mouseup","multitouchend","multitouchmove","multitouchstart","optionschange","sizechange","typechange","wheel"],F=["balloonclose","balloonopen","beforedrag","beforedragstart","click","contextmenu","dblclick","drag","dragend","dragstart","editorstatechange","geometrychange","hintclose","hintopen","mapchange","mousedown","mouseenter","mouseleave","mousemove","mouseup","multitouchend","multitouchmove","multitouchstart","optionschange","overlaychange","parentchange","propertieschange","wheel"];function I(e,s=!1){let a,l,t=[],u=[];return{addGeoObject:(o,p)=>{t.push(s?p:o),clearTimeout(a),a=window.setTimeout(()=>{e(t,"add"),t=[]})},deleteGeoObject:(o,p)=>{u.push(s?p:o),clearTimeout(l),l=window.setTimeout(()=>{e(u,"remove"),u=[]})}}}var J=r.defineComponent({name:"YandexMap",props:{coordinates:{type:Array,required:!0},zoom:{type:Number,default:10},bounds:{type:Array,default:null},behaviors:{type:Array,default:null},controls:{type:Array,default:null},detailedControls:{type:Object,default:null},events:{type:Array,default:()=>["click"],validator:e=>e.every(s=>D.includes(s))},mapType:{type:String,default:"map"},settings:{type:Object,default:()=>({})},panOptions:{type:Object,default:void 0},options:{type:Object,default:()=>({})}},emits:[...D,"geo-objects-updated","created"],setup(e,{emit:s,slots:a,expose:l}){const t=r.ref(!1),u=x.pluginInstalledGlobal&&r.inject("pluginOptions")||{};let o;const p=`yandexMap${Math.round(1e5*Math.random())}`,{addGeoObject:y,deleteGeoObject:d}=I((n,c)=>{o&&n.length&&(n.forEach(v=>o==null?void 0:o.geoObjects[c](v)),s("geo-objects-updated",o.geoObjects))});r.provide(w,{addGeoObject:y,deleteGeoObject:d});const b=()=>{t.value=!0,o=new ymaps.Map(p,{center:e.coordinates,zoom:e.zoom,bounds:e.bounds,behaviors:e.behaviors,controls:e.controls,type:`yandex#${e.mapType}`},e.options),e.events.forEach(n=>{var c;return(c=o==null?void 0:o.events)==null?void 0:c.add(n,v=>s(n,v))}),e.detailedControls&&Object.keys(e.detailedControls).forEach(n=>{var c;o==null||o.controls.remove(n),o==null||o.controls.add(n,(c=e.detailedControls)==null?void 0:c[n])}),s("created",o)};return x.scriptIsNotAttached&&W({...u,...e.settings}),x.ymapReady?ymaps.ready(b):x.$on("scriptIsLoaded",b),l(o),r.watch(()=>e.coordinates,n=>o==null?void 0:o.panTo(n,e.panOptions)),r.watch(()=>e.zoom,n=>o==null?void 0:o.setZoom(n)),r.watch(()=>e.bounds,n=>o==null?void 0:o.setBounds(n)),r.watch(()=>e.mapType,n=>o==null?void 0:o.setType(n)),()=>{var n;return r.h("section",{class:"yandex-container","data-test":"map"},[r.h("div",{id:p,style:"min-height: 100%;"}),t.value&&r.h("div",{style:"display: none;"},[(n=a.default)==null?void 0:n.call(a)])])}}}),Q=r.defineComponent({name:"YandexMarker",props:{coordinates:{type:Array,required:!0},markerId:{type:[String,Number],required:!0},properties:{type:Object,default:()=>({})},options:{type:Object,default:null},type:{type:String,default:"Point"},radius:{type:Number,default:null},events:{type:Array,default:()=>["click"],validator:e=>e.every(s=>F.includes(s))}},emits:[...F],setup(e,{emit:s,slots:a,expose:l}){var v,R;const{addGeoObject:t,deleteGeoObject:u}=r.inject(w)||{},o=r.computed(()=>e.coordinates.map(Z)),p=r.ref(!1),y={geometry:{type:e.type,coordinates:o.value,radius:e.radius},properties:{...e.properties,markerId:e.markerId}},d=(v=a.component)!=null&&v.call(a).length?ymaps.templateLayoutFactory.createClass(`<div id="balloon-${e.markerId}" class="yandex-balloon"><div>`,{build(){d.superclass.build.call(this),p.value=!0},clear(){p.value=!1,d.superclass.clear.call(this)}}):null,b={balloonContentLayout:d,...e.options},n=new ymaps.GeoObject(y,b);e.events.forEach(h=>{var j;return(j=n.events)==null?void 0:j.add(h,i=>s(h,i))}),r.provide("marker",n);const c={...y,options:b};return r.onMounted(()=>{t(n,c)}),r.onBeforeUnmount(()=>{u(n,c)}),r.watch(()=>e.coordinates,h=>{var j,i;(i=(j=n.geometry)==null?void 0:j.setCoordinates)==null||i.call(j,h)}),l(n),(R=a.component)!=null&&R.call(a).length?()=>{var h;return p.value&&r.h(r.Teleport,{to:`#balloon-${e.markerId}`},[(h=a.component)==null?void 0:h.call(a)])}:()=>{var h;return(h=a.default)==null?void 0:h.call(a)}}}),X=r.defineComponent({name:"YandexGeoObjectCollection",props:{options:{type:Object,default:()=>({})}},emits:["geo-objects-updated"],setup(e,{emit:s,expose:a,slots:l}){const t=new ymaps.GeoObjectCollection({},e.options),{addGeoObject:u,deleteGeoObject:o}=r.inject(w)||{},{addGeoObject:p,deleteGeoObject:y}=I((d,b)=>{t&&d.length&&(d.forEach(n=>t[b](n)),s("geo-objects-updated",t))});return r.provide(w,{addGeoObject:p,deleteGeoObject:y}),r.onMounted(()=>{u(t)}),r.onBeforeUnmount(()=>{o(t)}),a(t),()=>{var d;return(d=l.default)==null?void 0:d.call(l)}}}),ee=r.defineComponent({name:"YandexClusterer",props:{options:{type:Object,default:()=>({})}},emits:["geo-objects-updated"],setup(e,{emit:s,expose:a,slots:l}){const t=new ymaps.Clusterer(e.options),{addGeoObject:u,deleteGeoObject:o}=r.inject(w)||{},{addGeoObject:p,deleteGeoObject:y}=I((d,b)=>{t&&d.length&&(t[b](d),s("geo-objects-updated",t))});return r.provide(w,{addGeoObject:p,deleteGeoObject:y}),r.onMounted(()=>{u(t)}),r.onBeforeUnmount(()=>{o(t)}),a(t),()=>{var d;return(d=l.default)==null?void 0:d.call(l)}}}),te=r.defineComponent({name:"YandexObjectManager",props:{options:{type:Object,default:()=>({})}},emits:["geo-objects-updated"],setup(e,{emit:s,expose:a,slots:l}){const t=new ymaps.ObjectManager(e.options),{addGeoObject:u,deleteGeoObject:o}=r.inject(w)||{},{addGeoObject:p,deleteGeoObject:y}=I((d,b)=>{if(!t||!d.length)return;const n=d.map(c=>({type:"Feature",id:c.properties.markerId,geometry:c.geometry,properties:c.properties,options:c.options}));t[b](n),s("geo-objects-updated",t)},!0);return r.provide(w,{addGeoObject:p,deleteGeoObject:y}),r.onMounted(()=>{u(t)}),r.onBeforeUnmount(()=>{o(t)}),a(t),()=>{var d;return(d=l.default)==null?void 0:d.call(l)}}});let L;const za=W,Da=J,Fa=Q,La=X,Ha=ee,qa=te;var Ka={install:(e,s)=>{L||(L=!0,x.pluginInstalledGlobal=!0,e.provide("pluginOptions",s),e.component("YandexMap",J),e.component("YandexMarker",Q),e.component("YandexCollection",X),e.component("YandexClusterer",ee),e.component("YandexObjectManager",te))}};k.YandexClusterer=Ha,k.YandexCollection=La,Y=k.YandexMap=Da,U=k.YandexMarker=Fa,k.YandexObjectManager=qa,k.default=Ka,k.loadYmap=za;const Wa={key:0},Za={id:"map"},Ja=$({__name:"RecuirsiveTable",props:{employees:Array},setup(e){const s={apiKey:"5e8fe631-331c-4f89-bd79-423bf0f93de7",lang:"ru_RU"},a=[{key:"name",sortable:!0},{key:"age",sortable:!0},{key:"location"},{key:"subordinates"}],l=C(!1),t=C([]),u=n=>{t.value=n,l.value=!0},o=C({}),p=n=>{o.value[n]=!o.value[n]},y=n=>o.value[n],d=C(!1),b=C("age");return(n,c)=>{const v=O("b-button"),R=O("RecuirsiveTable",!0),h=O("b-table"),j=O("b-modal");return M(),E(B,null,[m("div",null,[f(h,{items:e.employees,fields:a,striped:"",responsive:"sm","sort-desc":d.value,"onUpdate:sortDesc":c[2]||(c[2]=i=>d.value=i),"sort-by":b.value},{"head(name)":g(i=>[m("div",{onClick:c[0]||(c[0]=_=>b.value="name")}," Name ")]),"head(age)":g(i=>[m("div",{onClick:c[1]||(c[1]=_=>b.value="age")}," Age ")]),"cell(location)":g(i=>[f(v,{size:"sm",onClick:()=>u(i.item.location),class:"mr-2"},{default:g(()=>[V(" Show location ")]),_:2},1032,["onClick"])]),"cell(subordinates)":g(i=>[f(v,{size:"sm",disabled:i.item.children.length===0,onClick:_=>p(i.item.id)},{default:g(()=>[V(K(y(i.item.id)?"Hide subordinates":"Show subordinates"),1)]),_:2},1032,["disabled","onClick"]),y(i.item.id)?(M(),E("div",Wa,[f(R,{employees:i.item.children},null,8,["employees"])])):N("",!0)]),_:1},8,["items","sort-desc","sort-by"])]),f(j,{size:"lg",modelValue:l.value,"onUpdate:modelValue":c[3]||(c[3]=i=>l.value=i),"hide-footer":""},{default:g(()=>[m("div",Za,[l.value?(M(),P(G(Y),{key:0,style:{width:"100%",height:"300px"},coordinates:t.value,settings:s},{default:g(()=>[f(G(U),{coordinates:t.value,"marker-id":123},null,8,["coordinates"])]),_:1},8,["coordinates"])):N("",!0)])]),_:1},8,["modelValue"])],64)}}}),Qa={class:"d-flex justify-content-center align-items-center mt-3 mb-xxl-5"},Xa={class:"d-flex align-items-center gap-5"},eo=m("h2",null,"Add an employee to the table.",-1),to={class:"d-flex flex-column gap-2"},ao={class:"d-flex align-items-center"},oo=m("div",{class:"item"},"Full name:",-1),so={class:"d-flex flex-column w-100"},no={class:"d-flex justify-content-around align-items-center"},lo=m("div",{class:"item"},"Age:",-1),ro={class:"d-flex flex-column w-100"},io={class:"d-flex justify-content-start align-items-center"},co=m("div",{class:"item"},"Location:",-1),uo={id:"map",style:{width:"660px",height:"300px"}},po={class:"d-flex justify-content-around align-items-center"},mo=m("div",{class:"item"},"Boss:",-1),bo=$({__name:"TheEmployees",setup(e){const s={apiKey:"5e8fe631-331c-4f89-bd79-423bf0f93de7",lang:"ru_RU"},a=Ia(),l=A(()=>a.getters.getEmployees),t=q({name:"",age:18,location:[57,28],children:[],boss:null}),u=C(null),o=i=>t.location=i.get("coords"),p=()=>{t.boss=u.value},y=A(()=>[{value:null,text:"No boss"},...(l.value||[]).map(i=>({value:i.id,text:i.name}))]),d=C(!1),b=()=>{d.value=!0},n=()=>{const i=t.name.trim()!=="",_=Number.isInteger(Number(t.age))&&t.age>=18&&t.age<=100;return{name:i,age:_}},c=C(!0),v=A(()=>(t.name.length>=1&&(c.value=!1),n())),R=A(()=>Object.values(v.value).every(i=>i)),h=i=>{i.name="",i.age=18,i.location=[57,28],u.value=null,c.value=!0},j=()=>{a.dispatch("addEmployee",{parentId:t.boss,employee:t}),h(t)};return(i,_)=>{const ae=O("b-button"),z=O("b-form-invalid-feedback"),oe=O("b-form-input"),se=O("b-form-select"),ne=O("b-modal");return M(),E(B,null,[m("div",Qa,[m("div",Xa,[eo,f(ae,{onClick:b},{default:g(()=>[V("Add employee")]),_:1})]),f(ne,{size:"lg",modelValue:d.value,"onUpdate:modelValue":_[3]||(_[3]=S=>d.value=S),onOk:j,"ok-disabled":!R.value},{default:g(()=>[m("form",null,[m("div",to,[m("div",ao,[oo,m("div",so,[f(G(Na),{modelValue:t.name,"onUpdate:modelValue":_[0]||(_[0]=S=>t.name=S),state:v.value.name,type:"fio",placeholder:"Enter your full name",required:"",style:H(!c.value&&!v.value.name?"border:1px solid red; border-radius: 8px":"")},null,8,["modelValue","state","style"]),f(z,{state:c.value?!0:v.value.name},{default:g(()=>[V(" Full name is required. ")]),_:1},8,["state"])])]),m("div",no,[lo,m("div",ro,[f(oe,{type:"number",modelValue:t.age,"onUpdate:modelValue":_[1]||(_[1]=S=>t.age=S),min:"18",max:"100",placeholder:"Enter your age",state:v.value.age},null,8,["modelValue","state"]),f(z,{state:v.value.age},{default:g(()=>[V(" The age must be an integer and greater than 18 and less than 100. ")]),_:1},8,["state"])])]),m("div",io,[co,m("div",uo,[(M(),P(G(Y),{key:0,style:{width:"100%",height:"300px"},coordinates:t.location,onClick:o,settings:s},{default:g(()=>[f(G(U),{coordinates:t.location,"marker-id":123},null,8,["coordinates"])]),_:1},8,["coordinates"]))])]),m("div",po,[mo,f(se,{modelValue:u.value,"onUpdate:modelValue":_[2]||(_[2]=S=>u.value=S),options:y.value,onChange:p},null,8,["modelValue","options"])])])])]),_:1},8,["modelValue","ok-disabled"])]),f(Ja,{employees:l.value},null,8,["employees"])],64)}}});const vo=$({__name:"HomeView",setup(e){return(s,a)=>(M(),E("main",null,[f(bo)]))}});export{vo as default};
